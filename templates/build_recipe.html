{% extends "base.html" %}

<!-- Recipe Card - Banner -->
{% block banner %}
    <div class="container-fluid">
        <div class="row">
            <nav class="col us-banner-top us-b-color-00">
                <div class="us-banner-homebtn">
                    <a class="nav-link" href="{{ url_for('index') }}" title="Home"><i class="bi bi-house-door us-user-menu-link-01 us-i-color-01"></i></a>
                </div>
                <div class="us-banner-backbtn">
                    <a class="nav-link" href="{{ url_for('index') }}"><i class="bi bi-arrow-left us-user-menu-link-01 us-i-color-01"></i>Back</a>
                </div>
                <div class="us-banner-top-title-div us-b-color-00 us-p-color-01">
                    <h1 class="us-banner-top-title us-h1-color-02">Add Recipe</h1>
                </div>
                <div class="float-end">
                    <a class="nav-link us-advsearch-link" href="{{ url_for('search') }}"><i class="bi bi-search us-user-menu-link-01 us-i-color-01"></i><sup>ADV </sup>Advanced
                        Search</a>
                </div>
            </nav>
        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="us-content-header">
        <h4 class="content_title">
            {% if session.user %}
                {{ session.user.capitalize() }}! 
            {% endif %}
            Create a new recipe to share with the world!</h4>
    </div>
    <row>
        <div class="col">
            <form class="row g-3" method="POST" action="{{ url_for('build_recipe') }}">
                <!-- Add Recipe Name -->
                <div class="col-12">
                    <label for="recipe_name" class="form-label">Recipe Name</label>
                    <input type="text" id="recipe_name" name="recipe_name" 
                        class="form-control" 
                        minlength="5" maxlength="50"
                        required>
                </div>
                <!-- Add Recipe Description -->
                <div class="col-12">
                    <label for="recipe_description" class="form-label">Description</label>
                    <textarea type="text" id="recipe_description" name="recipe_description" 
                        maxlength="200"
                        class="form-control">
                    </textarea>
                </div>
                <!-- Add Recipe Preparation -->
                <div class="col-12">
                    <label for="recipe_prep" class="form-label">Preparation</label>
                    <textarea type="text" id="recipe_prep" name="recipe_prep" 
                        maxlength="500"
                        class="form-control">
                    </textarea>
                </div>
                <!-- Add Recipe Region -->
                <div class="col-md-6">
                    <label for="recipe_region" class="form-label">Region</label>
                    <select id="recipe_region" name="recipe_region" class="form-select us-dropdown">
                        <option selected>Choose...</option>
                        {% for region in regions %}
                        <option>{{region.region_name}}</option>
                        {% endfor %}
                    </select>
                </div>
                <!-- Add Recipe Flavor Profile -->
                <div class="col-md-6">
                    <div class="row">
                        <p>Flavor Profile</p>
                        <div class="col-md-5 us-check-box">
                            {% for category in categories %}
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="{{ category.category_name }}" name="category">
                                <label class="form-check-label" for="{{ category.category_name }}">
                                    {{ category.category_name.capitalize() }}
                                </label>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <!-- Add Recipe Image URL -->
                <div class="col-12">
                    <label for="recipe_image_url" class="form-label">Provide an Image URL</label>
                    <input type="url" id="recipe_image_url" name="recipe_image_url" 
                        pattern="https?://.+" title="Include http://"
                        value="http://"
                        class="form-control">
                    </textarea>
                </div>
                <!-- Add Recipe Image Description -->
                <div class="col-12">
                    <label for="recipe_image_alt" class="form-label">Provide an Image Description</label>
                    <input type="text" id="recipe_image_alt" name="recipe_image_alt" 
                        class="form-control">
                    </textarea>
                </div>
                <!-- Submit Recipe -->
                <div class="col-12">
                    <button type="submit" class="btn btn-primary">Submit Recipe</button>
                </div>
            </form>
        </div>
    </row>
{% endblock%}

<!-- Variable user menu items -->
{% block user_menu_item_1 %}
    <li class="nav-item">
        <a class="nav-link" href="{{ url_for('register') }}"><i class="bi bi-pencil-square us-menu-link-01 us-i-color-01"></i>Register</a>
    </li>
{% endblock %}
{% block user_menu_item_2 %}
    <li class="nav-item">
        <a class="nav-link" href="{{ url_for('login') }}"><i class="bi bi-door-open us-menu-link-01 us-i-color-01"></i>Log In</a>
    </li>
{% endblock %}

<!-- Revenue Aside 1 -->
{% block minor_column %}
    <aside class="us-revenue-s1">
        <div>
            <h1 class="us-revenue-s1-header">Revenue Stream Side 1</h1>
            <div class="us-revenue-s1-body">
                <p>
                    Saleable/Ad Space Content
                </p>
            </div>
        </div>
    </aside>
{% endblock %}